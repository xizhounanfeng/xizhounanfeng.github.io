(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{338:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"定义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定义"}},[t._v("#")]),t._v(" 定义")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("执行计划")]),t._v(" 是指一条 SQL 语句在经过 "),e("strong",[t._v("MySQL 查询优化器")]),t._v(" 的优化会，具体的执行方式")]),t._v(" "),e("li",[t._v("应用场景："),e("code",[t._v("SQL 性能分析")]),t._v("、"),e("code",[t._v("优化")]),t._v("等")]),t._v(" "),e("li",[t._v("通过 "),e("code",[t._v("EXPLAIN")]),t._v(" 的结果，可以了解到如数据表的查询顺序、数据查询操作的操作类型、哪些索引可以被命中、哪些索引实际会命中、每个数据表有多少行记录被查询等信息")])]),t._v(" "),e("h2",{attrs:{id:"如何获取"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何获取"}},[t._v("#")]),t._v(" 如何获取")]),t._v(" "),e("ul",[e("li",[t._v("MySQL 为我们提供了 "),e("code",[t._v("EXPLAIN")]),t._v(" 命令，来获取执行计划的相关信息")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[e("code",[t._v("EXPLAIN")]),t._v(" 语句并不会真的去执行相关的语句，而是通过查询优化器对语句进行分析，找出最优的查询方案，并显示对应的信息")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("EXPLAIN")]),t._v(" 执行计划支持 "),e("code",[t._v("SELECT")]),t._v("、"),e("code",[t._v("DELETE")]),t._v("、"),e("code",[t._v("INSERT")]),t._v("、"),e("code",[t._v("REPLACE")]),t._v(" 以及 "),e("code",[t._v("UPDATE")]),t._v(" 语句")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("一般多用于分析 "),e("code",[t._v("SELECT")]),t._v(" 查询语句。语法如下：")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPLAIN")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" 查询语句；\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])])])])]),t._v(" "),e("Badge",{attrs:{text:"示例",vertical:"middle"}}),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[t._v("mysql"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" dept_emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" emp_no "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("IN")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" emp_no "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" dept_emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" emp_no "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("HAVING")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("COUNT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("emp_no"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("----+-------------+----------+------------+-------+-----------------+---------+---------+------+--------+----------+-------------+")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" id "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" select_type "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" partitions "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" possible_keys   "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" key_len "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ref  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rows")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" filtered "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Extra       "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("----+-------------+----------+------------+-------+-----------------+---------+---------+------+--------+----------+-------------+")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" dept_emp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v("       "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALL")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v("            "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("331143")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100.00")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Using")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" SUBQUERY    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" dept_emp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v("       "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dept_no "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("331143")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100.00")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Using")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("----+-------------+----------+------------+-------+-----------------+---------+---------+------+--------+----------+-------------+")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("p",[t._v("执行计划结果中共有 12 列，各列代表的含义总结如下表：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("列名")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("含义")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT 查询的序列标识符")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("select_type")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT 关键字对应的查询类型")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("table")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用到的表名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("partitions")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("匹配的分区，对于未分区的表，值为 NULL")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("type")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("表的访问方法")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("possible_keys")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("可能用到的索引")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("key")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("实际用到的索引")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("key_len")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("所选索引的长度")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("ref")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("当使用索引等值查询时，与索引作比较的列或常量")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("rows")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("预计要读取的行数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("filtered")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("按表条件过滤后，留存的记录数的百分比")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Extra")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("附加信息")])])])]),t._v(" "),e("h2",{attrs:{id:"如何分析结果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何分析结果"}},[t._v("#")]),t._v(" 如何分析结果")]),t._v(" "),e("h3",{attrs:{id:"_01-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_01-id"}},[t._v("#")]),t._v(" 01. id")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("SELECT 标识符，是查询中 SELECT 的序号，用来标识整个查询中 SELELCT 语句的顺序")])]),t._v(" "),e("li",[e("p",[t._v("id 执行顺序")]),t._v(" "),e("ul",[e("li",[t._v("id 相同，从上往下依次执行")]),t._v(" "),e("li",[t._v("id 不同，id 值越大，执行优先级越高")]),t._v(" "),e("li",[t._v("如果行引用其他行的并集结果，则该值可以为 NULL")])])])]),t._v(" "),e("h3",{attrs:{id:"_02-select-type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_02-select-type"}},[t._v("#")]),t._v(" 02. select_type")]),t._v(" "),e("ul",[e("li",[t._v("查询的类型，主要用于区分"),e("code",[t._v("普通查询")]),t._v("、"),e("code",[t._v("联合查询")]),t._v("、"),e("code",[t._v("子查询")]),t._v("等复杂的查询")]),t._v(" "),e("li",[t._v("常见的值：\n"),e("ul",[e("li",[e("strong",[e("code",[t._v("SIMPLE")])]),t._v("：简单查询，不包含 UNION 或者子查询")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("PRIMARY")])]),t._v("：查询中如果包含子查询或其他部分，外层的 SELECT 将被标记为 PRIMARY")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("SUBQUERY")])]),t._v("：子查询中的第一个 SELECT")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("UNION")])]),t._v("：在 UNION 语句中，UNION 之后出现的 SELECT")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("DERIVED")])]),t._v("：在 FROM 中出现的子查询将被标记为 DERIVED")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("UNION RESULT")])]),t._v("：UNION 查询的结果")])])])]),t._v(" "),e("h3",{attrs:{id:"_03-table"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_03-table"}},[t._v("#")]),t._v(" 03. table")]),t._v(" "),e("ul",[e("li",[t._v("查询用到的表名，每行都有对应的表名")]),t._v(" "),e("li",[t._v("常见的值：\n"),e("ul",[e("li",[e("strong",[e("code",[t._v("正常的表名")])])]),t._v(" "),e("li",[e("strong",[e("code",[t._v("<unionM,N>")])]),t._v(" : 本行引用了 id 为 M 和 N 的行的 UNION 结果")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("<derivedN>")])]),t._v(" : 本行引用了 id 为 N 的表所产生的的派生表结果。派生表有可能产生自 FROM 语句中的子查询")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("<subqueryN>")])]),t._v(" : 本行引用了 id 为 N 的表所产生的的物化子查询结果")])])])]),t._v(" "),e("h3",{attrs:{id:"_04-type【重要】"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_04-type【重要】"}},[t._v("#")]),t._v(" 04. type【重要】")]),t._v(" "),e("ul",[e("li",[t._v("查询执行的类型，描述了查询是如何执行的")]),t._v(" "),e("li",[t._v("所有值的顺序从"),e("code",[t._v("最优到最差")]),t._v("排序为:\n"),e("ul",[e("li",[e("strong",[e("code",[t._v("system")])]),t._v("：如果表使用的引擎对于表行数统计是精确的（如：MyISAM），且表中只有一行记录的情况下，访问方法是 system ，是 const 的一种特例")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("const")])]),t._v("：表中最多只有一行匹配的记录，一次查询就可以找到，常用于使用"),e("code",[t._v("主键")]),t._v("或"),e("code",[t._v("唯一索引的所有字段")]),t._v("作为查询条件")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("eq_ref")])]),t._v("：当连表查询时，前一张表的行在当前这张表中只有一行与之对应。是除了 system 与 const 之外最好的 join 方式，常用于使用"),e("code",[t._v("主键")]),t._v("或"),e("code",[t._v("唯一索引的所有字段")]),t._v("作为连表条件")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("ref")])]),t._v("：使用普通索引作为查询条件，查询结果可能找到多个符合条件的行")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("fulltext")])])]),t._v(" "),e("li",[e("strong",[e("code",[t._v("ref_or_null")])])]),t._v(" "),e("li",[e("strong",[e("code",[t._v("index_merge")])]),t._v("：当查询条件使用了多个索引时，表示开启了 Index Merge 优化，此时执行计划中的 key 列列出了使用到的索引")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("unique_subquery")])])]),t._v(" "),e("li",[e("strong",[e("code",[t._v("index_subquery")])])]),t._v(" "),e("li",[e("strong",[e("code",[t._v("range")])]),t._v("：对索引列进行范围查询。执行计划中的 key 列表示哪个索引被使用了")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("index")])]),t._v("：查询遍历了整棵索引树，与 ALL 类似，只不过扫描的是索引，而索引一般在内存中，速度更快")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("ALL")])]),t._v("：全表扫描")])])])]),t._v(" "),e("h3",{attrs:{id:"_05-possible-keys"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_05-possible-keys"}},[t._v("#")]),t._v(" 05. possible_keys")]),t._v(" "),e("ul",[e("li",[t._v("表示 MySQL 执行查询时可能用到的索引")]),t._v(" "),e("li",[t._v("如果为 NULL ，则表示没有可能用到的索引\n"),e("ul",[e("li",[t._v("这种情况下，则需要检查 WHERE 语句中所使用的的列，看是否可以通过"),e("code",[t._v("给这些列中某个或多个字段添加索引")]),t._v("的方法来提高查询性能")])])])]),t._v(" "),e("h3",{attrs:{id:"_06-key【重要】"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_06-key【重要】"}},[t._v("#")]),t._v(" 06. key【重要】")]),t._v(" "),e("ul",[e("li",[t._v("表示 MySQL 实际使用到的索引")]),t._v(" "),e("li",[t._v("如果为 NULL，则表示未用到索引")])]),t._v(" "),e("h3",{attrs:{id:"_07-key-len"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_07-key-len"}},[t._v("#")]),t._v(" 07. key_len")]),t._v(" "),e("ul",[e("li",[t._v("表示 MySQL 实际使用的索引的最大长度")]),t._v(" "),e("li",[t._v("当使用到联合索引时，有可能是多个列的长度和。在满足需求的前提下"),e("code",[t._v("越短越好")])]),t._v(" "),e("li",[t._v("如果 key 列显示 NULL ，则 该列也显示 NULL")])]),t._v(" "),e("h3",{attrs:{id:"_08-rows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_08-rows"}},[t._v("#")]),t._v(" 08. rows")]),t._v(" "),e("ul",[e("li",[t._v("表示根据表统计信息及选用情况，大致估算出找到所需的记录或所需读取的行数，"),e("code",[t._v("数值越小越好")])])]),t._v(" "),e("h3",{attrs:{id:"_09-extra【重要】"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_09-extra【重要】"}},[t._v("#")]),t._v(" 09. Extra【重要】")]),t._v(" "),e("ul",[e("li",[t._v("这列包含了 MySQL 解析查询的额外信息\n"),e("ul",[e("li",[t._v("通过这些信息，可以更准确的理解 MySQL 到底是如何执行查询的")])])]),t._v(" "),e("li",[t._v("常见的值：\n"),e("ul",[e("li",[e("strong",[e("code",[t._v("Using filesort")])]),t._v("：在排序时使用了外部的索引排序，没有用到表内索引进行排序")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("Using temporary")])]),t._v("：MySQL 需要创建临时表来存储查询的结果，常见于 ORDER BY 和 GROUP BY")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("Using index")])]),t._v("：表明查询使用了覆盖索引，不用回表，查询效率非常高")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("Using index condition")])]),t._v("：表示查询优化器选择使用了索引条件下推这个特性")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("Using where")])]),t._v("：表明查询使用了 WHERE 子句进行条件过滤。"),e("code",[t._v("一般在没有使用到索引的时候会出现")])]),t._v(" "),e("li",[e("strong",[e("code",[t._v("Using join buffer (Block Nested Loop)")])]),t._v("：连表查询的方式， 表示当被驱动表没有使用索引的时候，MySQL 会先将驱动表读出来放到 join buffer 中， 再遍历被驱动表与驱动表进行查询")])])]),t._v(" "),e("li",[t._v("提醒："),e("strong",[t._v("当 Extra 列包含 Using filesort 或 Using temporary 时，MySQL 的性能可能会存在问题，需要尽可能避免")])])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("参考链接")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://javaguide.cn/database/mysql/mysql-query-execution-plan.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQL执行计划分析 | JavaGuide"),e("OutboundLink")],1)])])],1)}),[],!1,null,null,null);e.default=r.exports}}]);